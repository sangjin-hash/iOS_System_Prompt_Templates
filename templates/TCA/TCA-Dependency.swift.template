// {ClientName}.swift
import Foundation
import ComposableArchitecture

// MARK: - {ErrorName} Error

enum {ErrorName}: Error, Equatable {
    // case errorCase
}

// MARK: - {ClientName}

@DependencyClient
struct {ClientName}: Sendable {
    // var methodName: @Sendable () async throws -> ReturnType
}

// MARK: - Dependency Key
// Note: nonisolated(unsafe) is required for Swift 6+ to prevent "uninitialized" closure parameter issues
// Reference: https://github.com/pointfreeco/swift-dependencies/discussions/404

extension {ClientName}: DependencyKey {
    nonisolated static let liveValue = {ClientName}(
        // methodName: { /* Live implementation */ }
    )
}

// MARK: - Dependency Values

extension DependencyValues {
    var {clientPropertyName}: {ClientName} {
        get { self[{ClientName}.self] }
        set { self[{ClientName}.self] = newValue }
    }
}

// MARK: - Mock Helper

extension {ClientName} {
    static func mock(
        // methodName: @escaping @Sendable () async throws -> ReturnType = { /* Default value */ }
    ) -> Self {
        {ClientName}(
            // methodName: methodName
        )
    }
}
